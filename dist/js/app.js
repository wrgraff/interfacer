const addElement=function(e,t){var a=document.createElement(e);return a.className=t,a};var labeledInputs=document.querySelectorAll(".input__field");labeledInputs.forEach(e=>{e.parentElement.classList.add("input_floating"),e.value&&e.classList.add("input__field_filled"),e.addEventListener("change",function(e){""==this.value?this.classList.remove("input__field_filled"):this.classList.add("input__field_filled")})});var validationForms=document.querySelectorAll("[data-validate]"),validationPatterns={email:/.+@.+\..+/i,phone:/^[0-9-+() ]*$/,text:/^[A-Za-zА-Яа-я0-9_-]*$/},addError=function(e,t){e.parentElement.querySelector(".input__error").innerHTML=t},checkRequired=function(e){return!e.required||""!=e.value||(addError(e,"Необходимо заполнить это поле"),!1)},checkPattern=function(e){if(!e.dataset.validatePattern||""==e.value)return!0;var t=validationPatterns[e.dataset.validatePattern],a=e.value;return t.test(a)||addError(e,"Использованы недопустимые символы"),t.test(a)},checkLength=function(e){if(!e.dataset.validateLength||""==e.value)return!0;var t=e.dataset.validateLength,a=e.value.length;if(t.includes("-")){var n=t.split("-");return a>=n[0]&&a<=n[1]||(a<n[0]?addError(e,"Значение слишком короткое. Минимальное количество символов: "+n[0]):a>n[1]&&addError(e,"Значение слишком длинное. Максимальное количество символов: "+n[1]),!1)}return a>=t||(addError(e,"Значение слишком короткое. Минимальное количество символов: "+t),!1)},checkRange=function(e){if(!e.dataset.validateRange||""==e.value)return!0;var t=e.dataset.validateRange,a=parseInt(e.value);if(t.includes("-")){var n=t.split("-");return a>=n[0]&&a<=n[1]||(a<n[0]?addError(e,"Значение слишком маленькое. Минимальное значение: "+n[0]):a>n[1]&&addError(e,"Значение слишком большое. Максимальное значение: "+n[1]),!1)}return a>=t||(addError(e,"Значение слишком маленькое. Минимальное значение: "+t),!1)},validateInput=function(e,t){var a=checkRequired(e)&&checkPattern(e)&&checkLength(e)&&checkRange(e),n=e.value||!1;return a&&n?(e.classList.add("input__field_status_valid"),e.classList.remove("input__field_status_invalid"),!0):!a&&t?(e.classList.remove("input__field_status_valid"),e.classList.add("input__field_status_invalid"),!1):!!a||(e.classList.remove("input__field_status_valid"),!0)};validationForms.forEach(e=>{var t=e.querySelectorAll(".input__field");t.forEach(e=>{e.addEventListener("keyup",function(){validateInput(e,!1)}),e.addEventListener("click",function(){validateInput(e,!1)}),e.addEventListener("change",function(){validateInput(e,!0)}),e.addEventListener("blur",function(){validateInput(e,!0)})}),e.onsubmit=function(e){var a=!0;return t.forEach(e=>{validateInput(e,!0)||(a=a&&validateInput(e,!0))}),a}});const switches=document.querySelectorAll(".switch");switches.forEach(e=>{e.addEventListener("click",e=>{let t="true"===e.target.getAttribute("aria-checked");e.target.setAttribute("aria-checked",String(!t))})});var element,source,container,modalButtons=document.querySelectorAll("[data-modal]"),modalCloseButtons=document.querySelectorAll("[data-modal-close]"),modalWindow=document.querySelector("[data-modal-window]"),modalAside=document.querySelector("[data-modal-aside]"),modalContents=document.querySelector("[data-modal-contents]"),modalMask=document.querySelector("[data-modal-mask]"),toggleActive=function(e){e.classList.toggle(e.classList.item(0)+"_active")},toggleModal=function(e){console.log("toggle modal "+e),toggleActive(e),toggleActive(modalMask)},closeModal=function(e,t){setTimeout(function(){e.querySelector("[data-modal-container]").innerHTML=""},250),toggleModal(e)},loadContent=function(e,t,a,n){if("A"===t)var l=document.querySelector(e.getAttribute("href"));else l=document.querySelector("#"+e.dataset.modal);console.log("content id: "+l);var r=l.innerHTML;n.querySelector("[data-modal-container]").innerHTML=r};modalButtons.forEach(e=>{e.addEventListener("click",function(){element=e.tagName,source=e.dataset.modalSource||"inline",container=document.querySelector("[data-modal-"+(e.dataset.modalContainer||"window")+"]"),console.log("element: "+element+", source: "+source+", container: "+container),toggleModal(container),loadContent(e,element,source,container),container.querySelector("[data-modal-container]").querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",()=>{toggleModal(container)},!1)})})}),modalCloseButtons.forEach(e=>{e.addEventListener("click",()=>{toggleModal(container)},!1)}),modalMask.addEventListener("click",function(){toggleModal(container)},!1);